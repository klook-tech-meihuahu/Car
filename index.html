<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>特惠租车智能推荐 - Smart Car Rental</title>
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 引入 Lucide 图标库 -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* 字体优化 */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        
        /* 自定义滚动条样式 */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

        /* 现代化 Tag 渐变效果 */
        .tag-gradient-orange { background: linear-gradient(135deg, #FF5A1F, #FF8F1F); }
        .tag-gradient-blue { background: linear-gradient(135deg, #3B82F6, #60A5FA); }
        .tag-gradient-dark { background: linear-gradient(135deg, #1F2937, #374151); }
    </style>
</head>
<body class="bg-[#F8F9FA] text-gray-900 pb-20">

    <!-- Header / Hero Section -->
    <div class="bg-white border-b border-gray-100 sticky top-0 z-30 shadow-[0_4px_20px_-10px_rgba(0,0,0,0.05)]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900 tracking-tight flex items-center gap-3">
                        <div class="p-2.5 bg-gray-900 rounded-xl shadow-lg shadow-orange-500/20">
                            <i data-lucide="zap" class="text-[#FF5A1F] w-5 h-5 fill-[#FF5A1F]"></i>
                        </div>
                        <span>特惠租车 <span class="text-[#FF5A1F]">Klook</span></span>
                    </h1>
                    <p id="header-subtitle" class="text-xs font-medium text-gray-400 mt-1.5 ml-[54px] tracking-wide uppercase">
                        为您锁定热门城市最低价档期
                    </p>
                </div>
            </div>
        </div>

        <!-- Filter Bar -->
        <div class="bg-white/80 backdrop-blur-xl border-t border-gray-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
                <form id="filter-form" class="flex flex-wrap gap-3 w-full">
                    <!-- 城市选择 -->
                    <div class="flex-1 min-w-[160px]">
                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none">
                                <i data-lucide="map-pin" class="h-4 w-4 text-gray-400 group-focus-within:text-gray-800 transition-colors"></i>
                            </div>
                            <select id="city-select" class="block w-full pl-10 pr-8 py-3 text-sm font-semibold bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-gray-200 focus:bg-white transition-all cursor-pointer text-gray-800 hover:bg-gray-100">
                                <!-- Options populated by JS -->
                            </select>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <i data-lucide="chevron-down" class="h-4 w-4 text-gray-300"></i>
                            </div>
                        </div>
                    </div>

                    <!-- POI 选择 -->
                    <div class="flex-1 min-w-[160px]">
                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none">
                                <i data-lucide="store" class="h-4 w-4 text-gray-400 group-focus-within:text-gray-800 transition-colors"></i>
                            </div>
                            <select id="poi-select" class="block w-full pl-10 pr-8 py-3 text-sm font-semibold bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-gray-200 focus:bg-white transition-all cursor-pointer text-gray-800 hover:bg-gray-100">
                                <option value="">全部门店</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <i data-lucide="chevron-down" class="h-4 w-4 text-gray-300"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 租期选择 -->
                    <div class="w-[140px]">
                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none">
                                <i data-lucide="clock" class="h-4 w-4 text-gray-400 group-focus-within:text-gray-800 transition-colors"></i>
                            </div>
                            <select id="duration-select" class="block w-full pl-10 pr-8 py-3 text-sm font-semibold bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-gray-200 focus:bg-white transition-all cursor-pointer text-gray-800 hover:bg-gray-100">
                                <option value="1">1 天</option>
                                <option value="2">2 天</option>
                                <option value="3" selected>3 天</option>
                                <option value="5">5 天</option>
                                <option value="7">7 天 (周租)</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <i data-lucide="chevron-down" class="h-4 w-4 text-gray-300"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 年龄选择 -->
                    <div class="w-[140px]">
                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none">
                                <i data-lucide="user" class="h-4 w-4 text-gray-400 group-focus-within:text-gray-800 transition-colors"></i>
                            </div>
                            <select id="age-select" class="block w-full pl-10 pr-8 py-3 text-sm font-semibold bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-gray-200 focus:bg-white transition-all cursor-pointer text-gray-800 hover:bg-gray-100">
                                <option value="18">18-20岁</option>
                                <option value="21">21-24岁</option>
                                <option value="25" selected>25岁+</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <i data-lucide="chevron-down" class="h-4 w-4 text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Results Header -->
        <div class="flex items-center justify-between mb-8">
            <h2 class="text-2xl font-bold text-gray-900 flex items-center gap-3">
                推荐榜单 
                <span id="result-count" class="px-2.5 py-1 rounded-lg bg-gray-100 text-gray-500 text-xs font-bold tracking-wide">计算中</span>
            </h2>
            <div class="hidden md:flex items-center gap-2 text-xs font-medium text-gray-500 bg-white px-4 py-2 rounded-full shadow-sm border border-gray-100">
                <span class="flex items-center gap-1.5"><i data-lucide="check" class="w-3.5 h-3.5 text-emerald-500"></i> 价格已含税</span>
                <span class="w-px h-3 bg-gray-200 mx-1"></span>
                <span class="flex items-center gap-1.5"><i data-lucide="check" class="w-3.5 h-3.5 text-emerald-500"></i> 免费取消</span>
            </div>
        </div>

        <!-- Grid Display -->
        <div id="car-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Cards injected via JS -->
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="hidden flex flex-col items-center justify-center py-24">
            <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6">
                <i data-lucide="search-x" class="w-10 h-10 text-gray-400"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-900">没有找到匹配的车辆</h3>
            <p class="text-gray-500 mt-2">试试看切换其他城市或放宽年龄限制</p>
            <button onclick="resetFilters()" class="mt-8 px-8 py-3 bg-gray-900 text-white font-bold rounded-xl hover:bg-black transition-all shadow-lg shadow-gray-200">
                重置筛选
            </button>
        </div>

    </main>

    <script>
        // --- 数据定义 ---
        const CITY_NAMES = { 'tokyo': '东京', 'osaka': '大阪', 'sapporo': '札幌', 'fukuoka': '福冈' };

        // 模拟更智能的数据，包含 "lowPriceDates" 字段
        const CAR_LISTINGS = [
            {
                id: 't1', city: 'tokyo', poi: '成田机场 (NRT)',
                title: 'Honda Fit', category: '经济型',
                supplier: { name: 'Toyota Rent a Car', rating: 9.2, logo: 'https://placehold.co/40x40/orange/white?text=T' },
                image: 'https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 5, doors: 4, bags: 2 },
                basePrice: 45, discountRate: 0.8, currency: 'US$',
                tags: ['Special offer', '省油首选'], 
                lowPriceDates: [
                    { date: '4月12日', price: 36 },
                    { date: '4月13日', price: 36 },
                    { date: '4月14日', price: 38 },
                ],
                minAge: 18
            },
            {
                id: 't2', city: 'tokyo', poi: '羽田机场 (HND)',
                title: 'Toyota Corolla', category: '紧凑型',
                supplier: { name: 'Nippon', rating: 8.9, logo: 'https://placehold.co/40x40/red/white?text=N' },
                image: 'https://images.unsplash.com/photo-1590362891991-f776e747a588?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 5, doors: 4, bags: 3 },
                basePrice: 58, discountRate: 0.9, currency: 'US$',
                tags: ['销量冠军'], 
                lowPriceDates: [
                    { date: '4月15日', price: 52 },
                    { date: '4月16日', price: 52 },
                    { date: '4月20日', price: 55 },
                ],
                minAge: 21
            },
            {
                id: 't3', city: 'tokyo', poi: '成田机场 (NRT)',
                title: 'Toyota Prius', category: '混合动力',
                supplier: { name: 'Orix', rating: 9.0, logo: 'https://placehold.co/40x40/blue/white?text=O' },
                image: 'https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 5, doors: 5, bags: 2 },
                basePrice: 65, discountRate: 0.85, currency: 'US$',
                tags: ['环保优选'], 
                lowPriceDates: [
                    { date: '4月05日', price: 55 },
                    { date: '4月06日', price: 55 },
                    { date: '4月07日', price: 58 },
                ],
                minAge: 21
            },
            {
                id: 't4', city: 'tokyo', poi: '新宿站',
                title: 'Toyota Alphard', category: '豪华MPV',
                supplier: { name: 'Toyota Rent a Car', rating: 9.5, logo: 'https://placehold.co/40x40/orange/white?text=T' },
                image: 'https://images.unsplash.com/photo-1563720223185-11003d516935?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 7, doors: 5, bags: 6 },
                basePrice: 160, discountRate: 0.8, currency: 'US$',
                tags: ['Luxury'], 
                lowPriceDates: [
                    { date: '4月22日', price: 128 },
                    { date: '4月23日', price: 128 },
                    { date: '4月24日', price: 135 },
                ],
                minAge: 25
            },
            {
                id: 't5', city: 'tokyo', poi: '涩谷站',
                title: 'Nissan Serena', category: '标准MPV',
                supplier: { name: 'Nissan', rating: 8.8, logo: 'https://placehold.co/40x40/blue/white?text=Ni' },
                image: 'https://images.unsplash.com/photo-1620882141526-7243977dc8d1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 8, doors: 5, bags: 4 },
                basePrice: 110, discountRate: 0.75, currency: 'US$',
                tags: ['限时特惠'], 
                lowPriceDates: [
                    { date: '4月10日', price: 82 },
                    { date: '4月11日', price: 82 },
                    { date: '4月12日', price: 85 },
                ],
                minAge: 23
            },
            {
                id: 't6', city: 'tokyo', poi: '成田机场 (NRT)',
                title: 'BMW 3 Series', category: '豪华轿车',
                supplier: { name: 'Times Car', rating: 9.1, logo: 'https://placehold.co/40x40/yellow/black?text=Ti' },
                image: 'https://images.unsplash.com/photo-1555215695-3004980ad54e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 5, doors: 4, bags: 3 },
                basePrice: 140, discountRate: 0.9, currency: 'US$',
                tags: ['尊贵出行'], 
                lowPriceDates: [
                    { date: '4月18日', price: 126 },
                    { date: '4月19日', price: 126 },
                    { date: '4月20日', price: 130 },
                ],
                minAge: 25
            },
            {
                id: 't7', city: 'tokyo', poi: '羽田机场 (HND)',
                title: 'Mercedes C-Class', category: '豪华轿车',
                supplier: { name: 'Nippon', rating: 9.3, logo: 'https://placehold.co/40x40/red/white?text=N' },
                image: 'https://images.unsplash.com/photo-1617788138017-80ad40651399?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 5, doors: 4, bags: 3 },
                basePrice: 155, discountRate: 0.85, currency: 'US$',
                tags: ['商务优选'], 
                lowPriceDates: [
                    { date: '4月25日', price: 132 },
                    { date: '4月26日', price: 132 },
                    { date: '4月27日', price: 140 },
                ],
                minAge: 25
            },
            {
                id: 't8', city: 'tokyo', poi: '成田机场 (NRT)',
                title: 'Toyota Harrier', category: 'SUV',
                supplier: { name: 'Toyota Rent a Car', rating: 9.4, logo: 'https://placehold.co/40x40/orange/white?text=T' },
                image: 'https://images.unsplash.com/photo-1628153392350-0814f0475878?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 5, doors: 5, bags: 4 },
                basePrice: 95, discountRate: 0.8, currency: 'US$',
                tags: ['舒适SUV'], 
                lowPriceDates: [
                    { date: '4月08日', price: 76 },
                    { date: '4月09日', price: 76 },
                    { date: '4月10日', price: 80 },
                ],
                minAge: 21
            },
            {
                id: 't9', city: 'tokyo', poi: '新宿站',
                title: 'Mazda MX-5', category: '敞篷跑车',
                supplier: { name: 'Times Car', rating: 8.9, logo: 'https://placehold.co/40x40/yellow/black?text=Ti' },
                image: 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '自动', seats: 2, doors: 2, bags: 1 },
                basePrice: 130, discountRate: 0.95, currency: 'US$',
                tags: ['浪漫之旅'], 
                lowPriceDates: [
                    { date: '4月14日', price: 123 },
                    { date: '4月15日', price: 123 },
                    { date: '4月16日', price: 125 },
                ],
                minAge: 25
            },
            {
                id: 't10', city: 'tokyo', poi: '成田机场 (NRT)',
                title: 'Nissan X-Trail', category: 'SUV',
                supplier: { name: 'Nissan', rating: 8.7, logo: 'https://placehold.co/40x40/blue/white?text=Ni' },
                image: 'https://images.unsplash.com/photo-1619682817481-e994891cd1f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                specs: { transmission: '四驱', seats: 5, doors: 5, bags: 4 },
                basePrice: 85, discountRate: 0.7, currency: 'US$',
                tags: ['Special offer'], 
                lowPriceDates: [
                    { date: '4月01日', price: 59 },
                    { date: '4月02日', price: 59 },
                    { date: '4月03日', price: 65 },
                ],
                minAge: 21
            }
        ];

        // --- 状态管理 ---
        const state = {
            city: 'tokyo',
            poi: '',
            duration: '3',
            age: '25'
        };

        // --- 工具函数 ---
        const getUniqueCities = () => [...new Set(CAR_LISTINGS.map(c => c.city))];
        const getPoisForCity = (city) => [...new Set(CAR_LISTINGS.filter(c => c.city === city).map(c => c.poi))];

        // 现代化 Tag 样式生成
        const getTagStyle = (tagText) => {
            if (['Special offer', '特惠推荐', '限时特惠', '超低价'].includes(tagText)) {
                return 'tag-gradient-orange text-white border-0 shadow-lg shadow-orange-500/30';
            }
            if (['销量冠军', '热门车型', 'Luxury', '尊贵出行'].includes(tagText)) {
                return 'bg-gray-900 text-white border-0';
            }
            if (['环保优选', '省油首选'].includes(tagText)) {
                return 'bg-emerald-50 text-emerald-700 font-semibold';
            }
            // 默认极简风格
            return 'bg-white text-gray-600 font-medium border border-gray-100';
        };

        // --- DOM ---
        const els = {
            city: document.getElementById('city-select'),
            poi: document.getElementById('poi-select'),
            duration: document.getElementById('duration-select'),
            age: document.getElementById('age-select'),
            carGrid: document.getElementById('car-grid'),
            resultCount: document.getElementById('result-count'),
            emptyState: document.getElementById('empty-state'),
            headerSubtitle: document.getElementById('header-subtitle'),
        };

        function init() {
            renderCityOptions();
            updatePoiOptions();
            renderCars();
            
            // Listeners
            els.city.addEventListener('change', (e) => {
                state.city = e.target.value;
                state.poi = ''; 
                updatePoiOptions();
                renderCars();
                updateHeaderSubtitle();
            });
            els.poi.addEventListener('change', (e) => { state.poi = e.target.value; renderCars(); });
            els.duration.addEventListener('change', (e) => { state.duration = e.target.value; renderCars(); });
            els.age.addEventListener('change', (e) => { state.age = e.target.value; renderCars(); });

            lucide.createIcons();
        }

        function renderCityOptions() {
            const cities = getUniqueCities();
            els.city.innerHTML = cities.map(code => 
                `<option value="${code}" ${code === state.city ? 'selected' : ''}>${CITY_NAMES[code] || code}</option>`
            ).join('');
        }

        function updatePoiOptions() {
            const pois = getPoisForCity(state.city);
            if (pois.length > 0) {
                els.poi.innerHTML = '<option value="">全部门店</option>' + 
                    pois.map(p => `<option value="${p}">${p}</option>`).join('');
                els.poi.disabled = false;
            } else {
                els.poi.innerHTML = '<option value="">暂无门店</option>';
                els.poi.disabled = true;
            }
            els.poi.value = state.poi;
        }

        function updateHeaderSubtitle() {
            const cityName = CITY_NAMES[state.city] || '热门城市';
            els.headerSubtitle.innerText = `为您锁定 ${cityName} 最佳出行价格`;
        }

        function resetFilters() {
            state.city = 'tokyo';
            state.poi = '';
            state.duration = '3';
            renderCityOptions();
            updatePoiOptions();
            els.city.value = 'tokyo';
            els.poi.value = '';
            els.duration.value = '3';
            renderCars();
        }

        function renderCars() {
            const filtered = CAR_LISTINGS.filter(car => {
                if (car.city !== state.city) return false;
                if (state.poi && car.poi !== state.poi) return false;
                if (parseInt(state.age) < car.minAge) return false;
                return true;
            }).sort((a, b) => {
                const aSpecial = a.tags.some(t => ['Special offer'].includes(t));
                const bSpecial = b.tags.some(t => ['Special offer'].includes(t));
                if (aSpecial && !bSpecial) return -1;
                if (!aSpecial && bSpecial) return 1;
                return (a.basePrice * a.discountRate) - (b.basePrice * b.discountRate);
            });

            els.resultCount.innerText = `${filtered.length} 辆`;

            if (filtered.length === 0) {
                els.carGrid.innerHTML = '';
                els.emptyState.classList.remove('hidden');
                return;
            } else {
                els.emptyState.classList.add('hidden');
            }

            const html = filtered.map(car => {
                const discountPrice = (car.basePrice * car.discountRate).toFixed(0);
                const discountPercent = Math.round((1 - car.discountRate) * 100);

                // 生成未来日历展示 HTML
                const calendarHtml = car.lowPriceDates.map((dateObj, idx) => `
                    <div class="flex-1 flex flex-col items-center justify-center py-2 ${idx === 0 ? 'bg-orange-50 border-b-2 border-[#FF5A1F]' : 'bg-gray-50 border-b-2 border-transparent opacity-60 hover:opacity-100 transition-opacity'}">
                        <span class="text-[10px] text-gray-500 font-medium mb-0.5">${dateObj.date}</span>
                        <span class="text-xs font-bold text-gray-900">${car.currency}${dateObj.price}</span>
                    </div>
                `).join('');

                return `
                <div class="group bg-white rounded-3xl overflow-hidden hover:shadow-[0_20px_40px_-10px_rgba(0,0,0,0.1)] hover:-translate-y-1 transition-all duration-300 flex flex-col h-full border border-gray-100 relative">
                    
                    <!-- 图片 -->
                    <div class="relative aspect-[16/10] overflow-hidden bg-gray-200">
                        <img src="${car.image}" alt="${car.title}" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-out">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60"></div>
                        
                        <!-- 供应商 -->
                         <div class="absolute top-4 left-4 flex items-center gap-2">
                            <div class="bg-white/95 backdrop-blur-md rounded-full px-3 py-1.5 shadow-sm flex items-center gap-1.5">
                                <img src="${car.supplier.logo}" class="w-4 h-4 rounded-full grayscale group-hover:grayscale-0 transition-all" alt="Supplier">
                                <span class="text-[10px] font-bold text-gray-700 tracking-wide">${car.supplier.name}</span>
                            </div>
                        </div>

                        <!-- 评分 -->
                        <div class="absolute top-4 right-4 bg-black/20 backdrop-blur-md rounded-full px-2.5 py-1 flex items-center gap-1 border border-white/10">
                            <i data-lucide="star" class="w-3 h-3 text-yellow-400 fill-yellow-400"></i>
                            <span class="text-xs font-bold text-white">${car.supplier.rating}</span>
                        </div>
                    </div>

                    <!-- 内容 -->
                    <div class="p-5 flex flex-col flex-grow">
                        <!-- 标题与类型 -->
                        <div class="mb-4">
                            <div class="flex justify-between items-start mb-1">
                                <h3 class="text-lg font-bold text-gray-900 group-hover:text-[#FF5A1F] transition-colors line-clamp-1">${car.title}</h3>
                            </div>
                            <p class="text-xs font-medium text-gray-400 uppercase tracking-wider">${car.category} • ${car.specs.transmission}</p>
                        </div>

                        <!-- 现代化 Tag (Pills Updated) -->
                        <div class="flex flex-wrap gap-2 mb-5">
                            ${car.tags.map(t => `<span class="${getTagStyle(t)} px-3 py-1 rounded-full text-[10px] font-bold tracking-wide">${t}</span>`).join('')}
                        </div>

                        <!-- 参数栏 -->
                        <div class="flex items-center gap-4 text-gray-400 mb-5 text-xs font-medium">
                            <span class="flex items-center gap-1.5"><i data-lucide="users" class="w-3.5 h-3.5"></i> ${car.specs.seats}座</span>
                            <span class="flex items-center gap-1.5"><i data-lucide="briefcase" class="w-3.5 h-3.5"></i> ${car.specs.bags}行李</span>
                        </div>

                        <!-- 价格日历条 (Low Price Calendar) -->
                        <div class="mt-auto bg-white border border-gray-100 rounded-xl overflow-hidden mb-4">
                             <div class="flex divide-x divide-gray-100">
                                <div class="w-16 bg-gray-50 flex items-center justify-center px-1">
                                    <span class="text-[9px] font-bold text-gray-400 text-center leading-tight">低价<br>日历</span>
                                </div>
                                ${calendarHtml}
                             </div>
                        </div>

                        <!-- 底部价格与按钮 -->
                        <div class="flex items-end justify-between pt-2 border-t border-gray-50">
                            <div>
                                <div class="flex items-center gap-2 mb-0.5">
                                    <span class="text-xs text-gray-300 line-through">${car.currency}${car.basePrice}</span>
                                    ${discountPercent > 0 ? `<span class="text-[10px] font-bold text-[#FF5A1F]">节省 ${discountPercent}%</span>` : ''}
                                </div>
                                <div class="flex items-baseline gap-0.5">
                                    <span class="text-xs text-gray-500 font-medium">From</span>
                                    <span class="text-xl font-bold text-gray-900 tracking-tight">${car.currency}${discountPrice}</span>
                                </div>
                            </div>
                            <button class="w-10 h-10 rounded-full bg-black text-white flex items-center justify-center hover:bg-[#FF5A1F] hover:scale-110 transition-all duration-300 shadow-lg">
                                <i data-lucide="arrow-up-right" class="w-5 h-5"></i>
                            </button>
                        </div>
                    </div>
                </div>
                `;
            }).join('');

            els.carGrid.innerHTML = html;
            lucide.createIcons();
        }

        init();

    </script>
</body>
</html>
